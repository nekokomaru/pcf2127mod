# トラブルシューティング

## ハードを接続しても、タイマーで OS が起動しない
  GPIO3 で起動する設定になっているかどうか確認する
  
### 設定の確認方法

  簡単な確認方法は、shutdown して ラズパイの赤 LED は点灯してるが何も動作していない、という状態で
  ピンヘッダの 5 と 6 をショートしてみる。OS が起動したら、必要な設定は出来ているので他の原因を探す。
  何も変化が見られない場合は以下の記述を試す。

### 設定方法

  ubuntu だったら、ファームウエア用ツールをインストールし、コマンドでオプションを確認する
  $ sudo apt install rpi-eeprom  # ツールをインストールする
  $ sudo vcgencmd bootloader_config  # オプションを確認
  
  ここで、「WAKE_ON_GPIO=1」という記述があればファームウエアの問題は多分ない。他に問題がある可能性を疑う。
  記述がない場合は、以下のサイトを参考にオプションを設定する
  https://www.raspberrypi.org/documentation/hardware/raspberrypi/bcm2711_bootloader_config.md
  
  $ sudo -E rpi-eeprom-config --edit  # エディタで設定を編集するモードに入る
  
  ここで、WAKE_ON_GPIO=1 という記述に変更、もしくは新しく追記してセーブし、エディタを終了する。
  その後再起動すると、ファームウェアの設定変更が適用されて起動する。
  もしも変更を破棄したい場合は、再起動する前に以下のコマンドを打つ
  $ sudo rpi-eeprom-update -r
